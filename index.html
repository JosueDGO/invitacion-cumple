<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Invitaci칩n de Cumplea침os 游꿀</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #f0f0f0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            font-family: Arial, sans-serif;
        }

        /* Contenedor principal que ocupa toda la pantalla */
        #image-container {
            width: 100%;
            height: 100vh;
            display: flex;
            /* Alineaci칩n de las im치genes en una fila */
            overflow-x: hidden;
            /* Oculta cualquier contenido fuera del contenedor */
            scroll-snap-type: x mandatory;
            /* Habilita el "snap" (ajuste autom치tico al final de cada imagen) */
            scroll-behavior: smooth;
            /* Desplazamiento suave */
            flex-direction: row;
            /* Las im치genes estar치n en fila */
            transition: transform 1s ease;
            /* Transici칩n suave entre las im치genes */
        }

        .page-image {
            flex-shrink: 0;
            width: 100vw;
            /* La imagen ocupa el 100% de la pantalla */
            height: 100vh;
            /* La imagen ocupa el 100% de la pantalla */
            object-fit: cover;
            /* Asegura que la imagen cubra completamente el 치rea */
            scroll-snap-align: start;
            /* Alinea la imagen en el inicio del contenedor */
        }

        /* Para prevenir m치rgenes en dispositivos m칩viles */
        body,
        html {
            height: 100%;
            overflow: hidden;
        }

        img {
            display: block;
            /* Elimina el espacio blanco debajo de la imagen */
        }

        /* Estilo de carga para evitar pantallas en blanco al principio */
        .loading {
            background: #f0f0f0;
            /* Fondo blanco mientras carga */
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>

<body>

    <!-- Este contenedor es visible mientras las im치genes est치n cargando -->
    <div id="loading-screen" class="loading">Cargando...</div>

    <audio id="bgm" loop playsinline>
        <source src="https://josuedgo.github.io/invitacion-cumple/song.mp3" type="audio/mp3" />
        Tu navegador no soporta audio.
    </audio>

    <!-- Contenedor que mostrar치 las im치genes -->
    <div id="image-container"></div>

    <script>
        const images = [
            "https://josuedgo.github.io/invitacion-cumple/inv_v3.png",
            "https://josuedgo.github.io/invitacion-cumple/inv_v3_pg2"
        ];

        let currentPage = 0;
        const imageContainer = document.getElementById("image-container");
        const audio = document.getElementById("bgm");
        const loadingScreen = document.getElementById("loading-screen");

        // Funci칩n para renderizar todas las im치genes
        function renderImages() {
            images.forEach(imageSrc => {
                const img = document.createElement("img");
                img.src = imageSrc;
                img.classList.add("page-image");
                imageContainer.appendChild(img);
            });

            // Una vez que las im치genes est치n cargadas, eliminamos el loading
            loadingScreen.style.display = "none";
        }

        // Funci칩n para cambiar a la siguiente imagen
        function goToNextPage() {
            if (currentPage < images.length - 1) {
                currentPage++;
            } else {
                currentPage = 0;
            }
            imageContainer.style.transform = `translateX(-${100 * currentPage}vw)`; // Desplaza la imagen
        }

        // Funci칩n para iniciar la experiencia
        function startExperience() {
            audio.volume = 1;
            audio.play().catch(e => console.warn('Error al reproducir audio:', e));
            renderImages();

            // Cambiar la imagen cada 3 segundos (o lo que prefieras)
            setInterval(goToNextPage, 3000);

            // Remueve los listeners para que no se vuelva a ejecutar
            document.removeEventListener('click', startExperience);
            document.removeEventListener('touchstart', startExperience);
        }

        // Agregar listeners para clic o toque en dispositivos m칩viles
        document.addEventListener('click', startExperience, { once: true });
        document.addEventListener('touchstart', startExperience, { once: true });
    </script>

</body>

</html>